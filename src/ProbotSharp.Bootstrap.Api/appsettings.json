{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "ProbotSharp": "Debug"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "ProbotSharp": "Host=localhost;Port=5432;Database=probotsharp;Username=probotsharp;Password=dev-password"
  },
  "ProbotSharp": {
    "AppId": "",
    "WebhookSecret": "development",
    "PrivateKeyPath": "",
    "ClientId": "",
    "ClientSecret": "",

    "_comment": "Adapter Configuration - Explicit Provider Selection. See: docs/AdapterConfiguration.md for complete guide",

    "Adapters": {
      "Cache": {
        "Provider": "InMemory",
        "Options": {
          "ExpirationMinutes": "60"
        }
      },
      "Idempotency": {
        "Provider": "InMemory",
        "Options": {
          "ExpirationHours": "24"
        }
      },
      "Persistence": {
        "Provider": "PostgreSQL",
        "Options": {
          "EnableSensitiveDataLogging": "false",
          "EnableDetailedErrors": "false",
          "CommandTimeout": "30",
          "MaxRetryCount": "3",
          "MaxRetryDelay": "30"
        }
      },
      "ReplayQueue": {
        "Provider": "InMemory",
        "Options": {
          "MaxRetryAttempts": "3",
          "RetryBaseDelayMs": "1000",
          "PollIntervalMs": "1000"
        }
      },
      "DeadLetterQueue": {
        "Provider": "FileSystem",
        "Options": {
          "Path": "dead-letter-queue",
          "RetentionDays": "7"
        }
      },
      "Metrics": {
        "Provider": "NoOp",
        "Options": {}
      },
      "Tracing": {
        "Provider": "NoOp",
        "Options": {}
      }
    },
    "Resilience": {
      "HttpTimeout": {
        "TimeoutSeconds": 30
      },
      "CircuitBreaker": {
        "FailureRatio": 0.5,
        "MinimumThroughput": 5,
        "BreakDurationSeconds": 30,
        "SamplingDurationSeconds": 60
      },
      "Retry": {
        "MaxRetryAttempts": 3,
        "BaseDelaySeconds": 2,
        "MaxDelaySeconds": 30,
        "UseJitter": true
      }
    },
    "Features": {
      "EnableWebhookReplay": true,
      "EnableMetrics": false,
      "EnableHealthChecks": true,
      "EnableDetailedErrors": false
    }
  }
}
